(()=>{var e={};e.id=836,e.ids=[836],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},51156:(e,t,i)=>{"use strict";i.r(t),i.d(t,{patchFetch:()=>g,routeModule:()=>w,serverHooks:()=>f,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>h});var o={};i.r(o),i.d(o,{POST:()=>b});var r=i(42706),n=i(28203),a=i(45994),s=i(41520);function u(e){let t=e.historical_sales.map(e=>`  - ${e.month}: ${e.qty} bottles`).join("\n");return`You are a sales forecasting expert for health supplements in Taiwan.

## Product
超級好抗60粒 (Super Defense 60 Capsules) — immune supplement sold through pharmacy chains.

## Sales Categories (based on historical training data)
- Low:  ≤ 363 bottles/month
- Mid:  364–446 bottles/month  
- High: ≥ 447 bottles/month

## Historical Monthly Sales (training context)
${t}

## Context for the month to predict: ${e.month}
- Average Temperature (Taipei): ${e.avg_temp_taipei}\xb0C
- Epidemic Index: ${e.epidemic_index}
- Google Trends — Flu searches: ${e.gt_flu}
- Google Trends — Cold searches: ${e.gt_cold}
- Google Trends — Immunity searches: ${e.gt_immunity}
- Google Trends — Competitor total: ${e.gt_competitor_total}
- Season/Event Tag: ${e.season_event_tag||"none"}
- Bundle Promotion: ${e.has_bundle_promo?`YES — ${(100*e.bundle_discount_rate).toFixed(1)}% discount, starts ${e.bundle_start_date}, duration ${e.bundle_duration_days} days`:"NO"}
- Bulk Purchase Promotion: ${e.has_bulk_promo?`YES — ${(100*e.bulk_discount_rate).toFixed(1)}% discount`:"NO"}

## Task
Based on all the above context, predict the sales category for ${e.month}.

Output ONLY valid JSON in this exact format, no other text:
{
  "prob_L": <0.0-1.0>,
  "prob_M": <0.0-1.0>,
  "prob_H": <0.0-1.0>
}
The three probabilities must sum to 1.0.`}function c(e){let t=e.historical_sales.map(e=>`  - ${e.month}: ${e.qty} bottles`).join("\n");return`You are a sales forecasting expert for health supplements in Taiwan.

## Product
超級好抗60粒 (Super Defense 60 Capsules) — immune supplement sold through pharmacy chains.

## Sales Categories (based on historical training data)
- Low:  ≤ 363 bottles/month
- Mid:  364–446 bottles/month  
- High: ≥ 447 bottles/month

## Historical Monthly Sales (training context)
${t}

## Context for the month to predict: ${e.month}
- Average Temperature (Taipei): ${e.avg_temp_taipei}\xb0C
- Epidemic Index: ${e.epidemic_index}
- Google Trends — Flu searches: ${e.gt_flu}
- Google Trends — Cold searches: ${e.gt_cold}
- Google Trends — Immunity searches: ${e.gt_immunity}
- Google Trends — Competitor total: ${e.gt_competitor_total}
- Season/Event Tag: ${e.season_event_tag||"none"}
- Bundle Promotion: ${e.has_bundle_promo?`YES — ${(100*e.bundle_discount_rate).toFixed(1)}% discount, starts ${e.bundle_start_date}, duration ${e.bundle_duration_days} days`:"NO"}
- Bulk Purchase Promotion: ${e.has_bulk_promo?`YES — ${(100*e.bulk_discount_rate).toFixed(1)}% discount`:"NO"}

## Task — Two Steps

### Step 1: Identify active consumer purchase drivers
From the following list, identify which motivations are likely ACTIVE this month:
1. Epidemic anxiety (high epidemic index or flu search volume)
2. Seasonal demand (temperature drop, winter onset)
3. Promotion attraction (active bundle or bulk discount)
4. Pre-purchase anticipation (upcoming major event like pharmacy anniversary)
5. Competitor influence (high competitor search volume)

List the active driver numbers and explain briefly why each is active or inactive.
Critically assess: does an active demand motivation ALSO have a purchase trigger (promotion)?

### Step 2: Predict sales category
Based on your Step 1 analysis, output ONLY valid JSON in this exact format, no other text:
{
  "step1_reasoning": "<your Step 1 analysis>",
  "prob_L": <0.0-1.0>,
  "prob_M": <0.0-1.0>,
  "prob_H": <0.0-1.0>
}
The three probabilities must sum to 1.0.`}function d(e){let t=e.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();try{let e=JSON.parse(t),i=parseFloat(e.prob_L)||0,o=parseFloat(e.prob_M)||0,r=parseFloat(e.prob_H)||0,n=[{c:"Low",p:i},{c:"Mid",p:o},{c:"High",p:r}].reduce((e,t)=>t.p>e.p?t:e).c;return{prob_L:i,prob_M:o,prob_H:r,pred_class:n,step1_b:e.step1_reasoning}}catch{throw Error(`Failed to parse model output: ${e.slice(0,200)}`)}}async function l(e,t,i,o){let r="vB"===t?c(e):u(e),n=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({model:i,messages:[{role:"user",content:r}],temperature:0,max_tokens:512})});if(!n.ok){let e=await n.json();throw Error(e.error?.message||"OpenAI API error")}let a=(await n.json()).choices[0].message.content??"";return{...d(a),raw_output:a}}async function p(e,t,i){let o="vB"===t?c(e):u(e),r=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":i,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:512,messages:[{role:"user",content:o}]})});if(!r.ok){let e=await r.json();throw Error(e.error?.message||"Anthropic API error")}let n=await r.json(),a=n.content?.[0]?.type==="text"?n.content[0].text:"";return{...d(a),raw_output:a}}async function b(e){try{let t;let{features:i,model:o,version:r,openai_api_key:n,anthropic_api_key:a}=await e.json();if(!i||!o||!r)return s.NextResponse.json({error:"Missing required fields: features, model, version"},{status:400});if("haiku"===o){if(!a)return s.NextResponse.json({error:"Anthropic API key required for Claude Haiku"},{status:400});t=await p(i,r,a)}else{if(!n)return s.NextResponse.json({error:"OpenAI API key required for GPT models"},{status:400});t=await l(i,r,"mini"===o?"gpt-4o-mini":"gpt-4o",n)}return s.NextResponse.json({result:t})}catch(t){console.error("health-predict API error:",t);let e=t instanceof Error?t.message:"Internal server error";return s.NextResponse.json({error:e},{status:500})}}let w=new r.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/health-predict/route",pathname:"/api/health-predict",filename:"route",bundlePath:"app/api/health-predict/route"},resolvedPagePath:"/home/bubu3013/ai-army-ebi-framework/app/api/health-predict/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:m,workUnitAsyncStorage:h,serverHooks:f}=w;function g(){return(0,a.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:h})}},96487:()=>{},78335:()=>{},64446:(e,t,i)=>{var o;(()=>{var r={226:function(r,n){!function(a,s){"use strict";var u="function",c="undefined",d="object",l="string",p="major",b="model",w="name",m="type",h="vendor",f="version",g="architecture",v="console",x="mobile",y="tablet",k="smarttv",_="wearable",S="embedded",T="Amazon",P="Apple",j="ASUS",R="BlackBerry",O="Browser",q="Chrome",A="Firefox",N="Google",$="Huawei",C="Microsoft",E="Motorola",M="Opera",I="Samsung",U="Sharp",B="Sony",L="Xiaomi",z="Zebra",G="Facebook",H="Chromium OS",F="Mac OS",D=function(e,t){var i={};for(var o in e)t[o]&&t[o].length%2==0?i[o]=t[o].concat(e[o]):i[o]=e[o];return i},V=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},Y=function(e,t){return typeof e===l&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===c?e:e.substring(0,350)},Z=function(e,t){for(var i,o,r,n,a,c,l=0;l<t.length&&!a;){var p=t[l],b=t[l+1];for(i=o=0;i<p.length&&!a&&p[i];)if(a=p[i++].exec(e))for(r=0;r<b.length;r++)c=a[++o],typeof(n=b[r])===d&&n.length>0?2===n.length?typeof n[1]==u?this[n[0]]=n[1].call(this,c):this[n[0]]=n[1]:3===n.length?typeof n[1]!==u||n[1].exec&&n[1].test?this[n[0]]=c?c.replace(n[1],n[2]):void 0:this[n[0]]=c?n[1].call(this,c,n[2]):void 0:4===n.length&&(this[n[0]]=c?n[3].call(this,c.replace(n[1],n[2])):void 0):this[n]=c||s;l+=2}},X=function(e,t){for(var i in t)if(typeof t[i]===d&&t[i].length>0){for(var o=0;o<t[i].length;o++)if(Y(t[i][o],e))return"?"===i?s:i}else if(Y(t[i],e))return"?"===i?s:i;return e},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[w,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[w,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[w,f],[/opios[\/ ]+([\w\.]+)/i],[f,[w,M+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[w,M]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[w,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[w,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[w,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[w,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[w,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[w,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[w,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[w,/(.+)/,"$1 Secure "+O],f],[/\bfocus\/([\w\.]+)/i],[f,[w,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[w,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[w,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[w,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[w,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[w,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[f,[w,A]],[/\bqihu|(qi?ho?o?|360)browser/i],[[w,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[w,/(.+)/,"$1 "+O],f],[/(comodo_dragon)\/([\w\.]+)/i],[[w,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[w,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[w],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[w,G],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[w,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[w,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[w,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[w,q+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[w,q+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[w,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[w,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[w,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,w],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[w,[f,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[w,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[w,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[w,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[w,f],[/(cobalt)\/([\w\.]+)/i],[w,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[b,[h,I],[m,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[b,[h,I],[m,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[b,[h,P],[m,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[b,[h,P],[m,y]],[/(macintosh);/i],[b,[h,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[b,[h,U],[m,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[b,[h,$],[m,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[b,[h,$],[m,x]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[b,/_/g," "],[h,L],[m,x]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[b,/_/g," "],[h,L],[m,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[b,[h,"OPPO"],[m,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[b,[h,"Vivo"],[m,x]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[b,[h,"Realme"],[m,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[b,[h,E],[m,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[b,[h,E],[m,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[b,[h,"LG"],[m,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[b,[h,"LG"],[m,x]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[b,[h,"Lenovo"],[m,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[b,/_/g," "],[h,"Nokia"],[m,x]],[/(pixel c)\b/i],[b,[h,N],[m,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[b,[h,N],[m,x]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[b,[h,B],[m,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[b,"Xperia Tablet"],[h,B],[m,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[b,[h,"OnePlus"],[m,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[b,[h,T],[m,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[b,/(.+)/g,"Fire Phone $1"],[h,T],[m,x]],[/(playbook);[-\w\),; ]+(rim)/i],[b,h,[m,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[b,[h,R],[m,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[b,[h,j],[m,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[b,[h,j],[m,x]],[/(nexus 9)/i],[b,[h,"HTC"],[m,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[b,/_/g," "],[m,x]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[b,[h,"Acer"],[m,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[b,[h,"Meizu"],[m,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,b,[m,x]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,b,[m,y]],[/(surface duo)/i],[b,[h,C],[m,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[b,[h,"Fairphone"],[m,x]],[/(u304aa)/i],[b,[h,"AT&T"],[m,x]],[/\bsie-(\w*)/i],[b,[h,"Siemens"],[m,x]],[/\b(rct\w+) b/i],[b,[h,"RCA"],[m,y]],[/\b(venue[\d ]{2,7}) b/i],[b,[h,"Dell"],[m,y]],[/\b(q(?:mv|ta)\w+) b/i],[b,[h,"Verizon"],[m,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[b,[h,"Barnes & Noble"],[m,y]],[/\b(tm\d{3}\w+) b/i],[b,[h,"NuVision"],[m,y]],[/\b(k88) b/i],[b,[h,"ZTE"],[m,y]],[/\b(nx\d{3}j) b/i],[b,[h,"ZTE"],[m,x]],[/\b(gen\d{3}) b.+49h/i],[b,[h,"Swiss"],[m,x]],[/\b(zur\d{3}) b/i],[b,[h,"Swiss"],[m,y]],[/\b((zeki)?tb.*\b) b/i],[b,[h,"Zeki"],[m,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],b,[m,y]],[/\b(ns-?\w{0,9}) b/i],[b,[h,"Insignia"],[m,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[b,[h,"NextBook"],[m,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],b,[m,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],b,[m,x]],[/\b(ph-1) /i],[b,[h,"Essential"],[m,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[b,[h,"Envizen"],[m,y]],[/\b(trio[-\w\. ]+) b/i],[b,[h,"MachSpeed"],[m,y]],[/\btu_(1491) b/i],[b,[h,"Rotor"],[m,y]],[/(shield[\w ]+) b/i],[b,[h,"Nvidia"],[m,y]],[/(sprint) (\w+)/i],[h,b,[m,x]],[/(kin\.[onetw]{3})/i],[[b,/\./g," "],[h,C],[m,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[b,[h,z],[m,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[b,[h,z],[m,x]],[/smart-tv.+(samsung)/i],[h,[m,k]],[/hbbtv.+maple;(\d+)/i],[[b,/^/,"SmartTV"],[h,I],[m,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,"LG"],[m,k]],[/(apple) ?tv/i],[h,[b,P+" TV"],[m,k]],[/crkey/i],[[b,q+"cast"],[h,N],[m,k]],[/droid.+aft(\w)( bui|\))/i],[b,[h,T],[m,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[b,[h,U],[m,k]],[/(bravia[\w ]+)( bui|\))/i],[b,[h,B],[m,k]],[/(mitv-\w{5}) bui/i],[b,[h,L],[m,k]],[/Hbbtv.*(technisat) (.*);/i],[h,b,[m,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,J],[b,J],[m,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,b,[m,v]],[/droid.+; (shield) bui/i],[b,[h,"Nvidia"],[m,v]],[/(playstation [345portablevi]+)/i],[b,[h,B],[m,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[b,[h,C],[m,v]],[/((pebble))app/i],[h,b,[m,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[b,[h,P],[m,_]],[/droid.+; (glass) \d/i],[b,[h,N],[m,_]],[/droid.+; (wt63?0{2,3})\)/i],[b,[h,z],[m,_]],[/(quest( 2| pro)?)/i],[b,[h,G],[m,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[m,S]],[/(aeobc)\b/i],[b,[h,T],[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[b,[m,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[b,[m,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,x]],[/(android[-\w\. ]{0,9});.+buil/i],[b,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[w,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[w,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[w,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,w]],os:[[/microsoft (windows) (vista|xp)/i],[w,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[w,[f,X,K]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,"Windows"],[f,X,K]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[w,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[w,F],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,w],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[w,f],[/\(bb(10);/i],[f,[w,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[w,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[w,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[w,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[w,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[w,q+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[w,H],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[w,f],[/(sunos) ?([\w\.\d]*)/i],[[w,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[w,f]]},ee=function(e,t){if(typeof e===d&&(t=e,e=s),!(this instanceof ee))return new ee(e,t).getResult();var i=typeof a!==c&&a.navigator?a.navigator:s,o=e||(i&&i.userAgent?i.userAgent:""),r=i&&i.userAgentData?i.userAgentData:s,n=t?D(Q,t):Q,v=i&&i.userAgent==o;return this.getBrowser=function(){var e,t={};return t[w]=s,t[f]=s,Z.call(t,o,n.browser),t[p]=typeof(e=t[f])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:s,v&&i&&i.brave&&typeof i.brave.isBrave==u&&(t[w]="Brave"),t},this.getCPU=function(){var e={};return e[g]=s,Z.call(e,o,n.cpu),e},this.getDevice=function(){var e={};return e[h]=s,e[b]=s,e[m]=s,Z.call(e,o,n.device),v&&!e[m]&&r&&r.mobile&&(e[m]=x),v&&"Macintosh"==e[b]&&i&&typeof i.standalone!==c&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[b]="iPad",e[m]=y),e},this.getEngine=function(){var e={};return e[w]=s,e[f]=s,Z.call(e,o,n.engine),e},this.getOS=function(){var e={};return e[w]=s,e[f]=s,Z.call(e,o,n.os),v&&!e[w]&&r&&"Unknown"!=r.platform&&(e[w]=r.platform.replace(/chrome os/i,H).replace(/macos/i,F)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=typeof e===l&&e.length>350?J(e,350):e,this},this.setUA(o),this};ee.VERSION="1.0.35",ee.BROWSER=V([w,f,p]),ee.CPU=V([g]),ee.DEVICE=V([b,h,m,v,x,k,y,_,S]),ee.ENGINE=ee.OS=V([w,f]),typeof n!==c?(r.exports&&(n=r.exports=ee),n.UAParser=ee):i.amdO?void 0!==(o=(function(){return ee}).call(t,i,t,e))&&(e.exports=o):typeof a!==c&&(a.UAParser=ee);var et=typeof a!==c&&(a.jQuery||a.Zepto);if(et&&!et.ua){var ei=new ee;et.ua=ei.getResult(),et.ua.get=function(){return ei.getUA()},et.ua.set=function(e){ei.setUA(e);var t=ei.getResult();for(var i in t)et.ua[i]=t[i]}}}("object"==typeof window?window:this)}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}},o=!0;try{r[e].call(i.exports,i,i.exports,a),o=!1}finally{o&&delete n[e]}return i.exports}a.ab=__dirname+"/";var s=a(226);e.exports=s})()},46050:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return r}});let o=i(29294);function r(e){let t=o.workAsyncStorage.getStore();if(!t)throw Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context");let{afterContext:i}=t;return i.after(e)}},95036:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(i){"default"===i||Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})})}(i(46050),t)},26807:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return c}});let o=i(29294),r=i(63033),n=i(10436),a=i(82312),s=i(60457),u=i(24982);function c(){let e=o.workAsyncStorage.getStore(),t=r.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type)return(0,s.makeHangingPromise)(t.renderSignal,"`connection()`");"prerender-ppr"===t.type?(0,n.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,n.throwToInterruptStaticGeneration)("connection",e,t)}(0,n.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},42706:(e,t,i)=>{"use strict";e.exports=i(44870)},41520:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ImageResponse:function(){return o.ImageResponse},NextRequest:function(){return r.NextRequest},NextResponse:function(){return n.NextResponse},URLPattern:function(){return s.URLPattern},after:function(){return u.after},connection:function(){return c.connection},userAgent:function(){return a.userAgent},userAgentFromString:function(){return a.userAgentFromString}});let o=i(14159),r=i(41639),n=i(44899),a=i(22215),s=i(31512),u=i(95036),c=i(26807)},14159:(e,t)=>{"use strict";function i(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return i}})},44899:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return l}});let o=i(9181),r=i(49619),n=i(55225),a=i(20614),s=i(9181),u=Symbol("internal response"),c=new Set([301,302,303,307,308]);function d(e,t){var i;if(null==e?void 0:null==(i=e.request)?void 0:i.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let i=[];for(let[o,r]of e.request.headers)t.set("x-middleware-request-"+o,r),i.push(o);t.set("x-middleware-override-headers",i.join(","))}}class l extends Response{constructor(e,t={}){super(e,t);let i=this.headers,c=new Proxy(new s.ResponseCookies(i),{get(e,r,n){switch(r){case"delete":case"set":return(...n)=>{let a=Reflect.apply(e[r],e,n),u=new Headers(i);return a instanceof s.ResponseCookies&&i.set("x-middleware-set-cookie",a.getAll().map(e=>(0,o.stringifyCookie)(e)).join(",")),d(t,u),a};default:return a.ReflectAdapter.get(e,r,n)}}});this[u]={cookies:c,url:t.url?new r.NextURL(t.url,{headers:(0,n.toNodeOutgoingHttpHeaders)(i),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[u].cookies}static json(e,t){let i=Response.json(e,t);return new l(i.body,i)}static redirect(e,t){let i="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!c.has(i))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let o="object"==typeof t?t:{},r=new Headers(null==o?void 0:o.headers);return r.set("Location",(0,n.validateURL)(e)),new l(null,{...o,headers:r,status:i})}static rewrite(e,t){let i=new Headers(null==t?void 0:t.headers);return i.set("x-middleware-rewrite",(0,n.validateURL)(e)),d(t,i),new l(null,{...t,headers:i})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),d(e,t),new l(null,{...e,headers:t})}}},31512:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return i}});let i="undefined"==typeof URLPattern?void 0:URLPattern},22215:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isBot:function(){return r},userAgent:function(){return a},userAgentFromString:function(){return n}});let o=function(e){return e&&e.__esModule?e:{default:e}}(i(64446));function r(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function n(e){return{...(0,o.default)(e),isBot:void 0!==e&&r(e)}}function a({headers:e}){return n(e.get("user-agent")||void 0)}}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),o=t.X(0,[638],()=>i(51156));module.exports=o})();