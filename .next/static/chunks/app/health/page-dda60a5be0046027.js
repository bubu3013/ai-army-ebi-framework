(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[653],{63837:(e,t,s)=>{Promise.resolve().then(s.bind(s,16522))},16522:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eo});var r=s(95155),a=s(12115),l=s(14505),n=s(50745),o=s(35007),d=s(90051),i=s(99257),c=s(87694);function m(e){let{model:t,version:s,onModelChange:a,onVersionChange:l}=e;return(0,r.jsx)(o.Zp,{className:"border-border",children:(0,r.jsx)(o.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),"Inference Model"]}),(0,r.jsxs)(n.l6,{value:t,onValueChange:e=>a(e),children:[(0,r.jsx)(n.bq,{className:"w-full",children:(0,r.jsx)(n.yv,{placeholder:"Select model"})}),(0,r.jsx)(n.gC,{children:d.L6.map(e=>(0,r.jsx)(n.eb,{value:e.value,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"inline-block w-2 h-2 rounded-full",style:{backgroundColor:e.color}}),e.label,(0,r.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:e.fullName})]})},e.value))})]})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),"Prompt Version"]}),(0,r.jsxs)(n.l6,{value:s,onValueChange:e=>l(e),children:[(0,r.jsx)(n.bq,{className:"w-full",children:(0,r.jsx)(n.yv,{placeholder:"Select version"})}),(0,r.jsx)(n.gC,{children:d.S8.map(e=>(0,r.jsx)(n.eb,{value:e.value,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.label,(0,r.jsxs)("span",{className:"text-xs text-muted-foreground font-normal",children:["— ",e.description]})]})},e.value))})]})]})]})})})}var x=s(59676),u=s(77607),h=s(20775);let f={"gpt-4o":"gpt4o",haiku:"haiku",mini:"mini"},p=new Map,j=null,g=null;async function b(e,t){let s="".concat(e,"_").concat(t);if(p.has(s))return p.get(s);let r="".concat(f[e],"_").concat(t),a=await fetch("/data/results/".concat(r,".json"));if(!a.ok)return console.error("Failed to load ".concat(r,".json")),[];let l=await a.json();return p.set(s,l),l}async function v(){let e=["vA","vB"];return(await Promise.all(["gpt-4o","haiku","mini"].flatMap(t=>e.map(e=>b(t,e))))).flat()}async function N(){if(j)return j;let e=await fetch("/data/results/ground_truth.json");return j=await e.json()}async function y(){if(g)return g;let e=await fetch("/data/results/ablation.json");return g=await e.json()}function w(e){return 0===e.length?{dirAcc:0,avgRps:0,avgMae:0}:{dirAcc:e.filter(e=>1===e.correct).length/e.length,avgRps:e.reduce((e,t)=>e+t.rps,0)/e.length,avgMae:e.reduce((e,t)=>e+t.ordinal_mae,0)/e.length}}function _(e){let{results:t}=e,{dirAcc:s,avgRps:a,avgMae:l}=w(t),n=t.filter(e=>1===e.correct).length,d=t.length;return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(o.Zp,{className:"border-border",children:(0,r.jsx)(o.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-lg bg-primary/10",children:(0,r.jsx)(x.A,{className:"h-6 w-6 text-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Directional Accuracy"}),(0,r.jsxs)("p",{className:"text-2xl font-semibold",children:[n,"/",d]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(100*s).toFixed(0),"% correct"]})]})]})})}),(0,r.jsx)(o.Zp,{className:"border-border",children:(0,r.jsx)(o.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-lg bg-accent/10",children:(0,r.jsx)(u.A,{className:"h-6 w-6 text-accent"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg RPS ↓"}),(0,r.jsx)("p",{className:"text-2xl font-semibold",children:a.toFixed(4)}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ranked Probability Score"})]})]})})}),(0,r.jsx)(o.Zp,{className:"border-border",children:(0,r.jsx)(o.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-lg bg-chart-4/10",children:(0,r.jsx)(h.A,{className:"h-6 w-6 text-chart-4"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Ordinal MAE ↓"}),(0,r.jsx)("p",{className:"text-2xl font-semibold",children:l.toFixed(3)}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ordinal distance error"})]})]})})})]})}var k=s(58581),A=s(28064),R=s(12800),M=s(66963),S=s(27112),C=s(86354),P=s(23021),L=s(40654);let F={"2025-08":"Month 8 (Aug)","2025-09":"Month 9 (Sep)","2025-10":"Month 10 (Oct)"};function z(e){let{results:t,groundTruth:s}=e,a=["2025-08","2025-09","2025-10"].map(e=>{var r,a,l;let n=t.find(t=>t.month===e),o=null==s?void 0:s.months.find(t=>t.month===e);return{month:null!==(r=F[e])&&void 0!==r?r:e,prob_L:n?Math.round(100*n.prob_L):0,prob_M:n?Math.round(100*n.prob_M):0,prob_H:n?Math.round(100*n.prob_H):0,true_class:null!==(a=null==o?void 0:o.true_class)&&void 0!==a?a:"",correct:null!==(l=null==n?void 0:n.correct)&&void 0!==l?l:null}});return(0,r.jsxs)(o.Zp,{className:"border-border",children:[(0,r.jsxs)(o.aR,{className:"pb-2",children:[(0,r.jsx)(o.ZB,{className:"text-lg font-medium",children:"Probability Distribution per Month"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"P(Low) / P(Mid) / P(High) — stacked bars sum to 100%"})]}),(0,r.jsxs)(o.Wu,{children:[(0,r.jsx)("div",{className:"h-72",children:(0,r.jsx)(k.u,{width:"100%",height:"100%",children:(0,r.jsxs)(A.E,{data:a,margin:{top:20,right:20,left:0,bottom:5},children:[(0,r.jsx)(R.W,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),(0,r.jsx)(M.h,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>"".concat(e,"%"),domain:[0,100]}),(0,r.jsx)(S.m,{cursor:{fill:"hsl(var(--muted))",opacity:.3},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px",fontSize:"12px"},formatter:(e,t)=>["".concat(e,"%"),"prob_L"===t?"P(Low)":"prob_M"===t?"P(Mid)":"P(High)"]}),(0,r.jsx)(C.s,{formatter:e=>"prob_L"===e?"Low":"prob_M"===e?"Mid":"High"}),(0,r.jsx)(P.y,{dataKey:"prob_L",stackId:"a",fill:d.Gv.Low,name:"prob_L",radius:[0,0,0,0],maxBarSize:80}),(0,r.jsx)(P.y,{dataKey:"prob_M",stackId:"a",fill:d.Gv.Mid,name:"prob_M",maxBarSize:80}),(0,r.jsx)(P.y,{dataKey:"prob_H",stackId:"a",fill:d.Gv.High,name:"prob_H",radius:[4,4,0,0],maxBarSize:80,children:(0,r.jsx)(L.Z,{position:"top",content:e=>{let{x:t,y:s,width:l,index:n}=e,o=a[n];if(!o)return null;let i=1===o.correct?"✓":0===o.correct?"✗":"",c=1===o.correct?d.Gv.High:d.Gv.Low;return(0,r.jsx)("text",{x:t+l/2,y:s-6,textAnchor:"middle",fontSize:14,fill:c,fontWeight:700,children:i})}})})]})})}),s&&(0,r.jsx)("div",{className:"flex justify-around mt-2 pt-3 border-t border-border",children:s.months.map(e=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:F[e.month]}),(0,r.jsxs)("p",{className:"text-sm font-semibold",style:{color:d.Gv[e.true_class]},children:["Ground Truth: ",e.true_class]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.true_sales_qty," bottles"]})]},e.month))})]})]})}var H=s(67732),T=s(39286);let E=[{value:"rps",label:"Avg RPS (↓ better)"},{value:"dirac",label:"Directional Accuracy (↑ better)"},{value:"mae",label:"Avg Ordinal MAE (↓ better)"},{value:"ablation",label:"Ablation Study (GPT-4o vB)"}],B={critical:"hsl(var(--destructive))",minor:"oklch(0.6 0.15 60)",none:"hsl(var(--muted-foreground))",positive:"hsl(var(--accent))"};function G(e){let{allResults:t,ablation:s}=e,[l,i]=(0,a.useState)("rps"),c=d.L6.flatMap(e=>d.S8.map(s=>{let{dirAcc:r,avgRps:a,avgMae:l}=w(t.filter(t=>t.model===e.value&&t.version===s.value));return{name:"".concat(e.label," ").concat(s.value),model:e.value,version:s.value,color:e.color,rps:parseFloat(a.toFixed(4)),dirac:parseFloat((100*r).toFixed(1)),mae:parseFloat(l.toFixed(3))}})),m=s.map(e=>{var t;return{...e,color:null!==(t=B[e.impact])&&void 0!==t?t:"hsl(var(--muted-foreground))"}});return(0,r.jsxs)(o.Zp,{className:"border-border",children:[(0,r.jsx)(o.aR,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsx)(o.ZB,{className:"text-lg font-medium",children:"Model Comparison"}),(0,r.jsxs)(n.l6,{value:l,onValueChange:e=>i(e),children:[(0,r.jsx)(n.bq,{className:"w-full sm:w-[260px]",children:(0,r.jsx)(n.yv,{})}),(0,r.jsx)(n.gC,{children:E.map(e=>(0,r.jsx)(n.eb,{value:e.value,children:e.label},e.value))})]})]})}),(0,r.jsx)(o.Wu,{children:"ablation"!==l?(0,r.jsx)("div",{className:"h-[320px]",children:(0,r.jsx)(k.u,{width:"100%",height:"100%",children:(0,r.jsxs)(A.E,{data:c,margin:{top:20,right:20,left:0,bottom:60},children:[(0,r.jsx)(R.W,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:11,angle:-30,textAnchor:"end",height:70,interval:0,tickLine:!1,axisLine:!1}),(0,r.jsx)(M.h,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>"dirac"===l?"".concat(e,"%"):String(e)}),(0,r.jsx)(S.m,{cursor:{fill:"hsl(var(--muted))",opacity:.3},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px",fontSize:"12px"},formatter:e=>"dirac"===l?["".concat(e,"%"),"Dir Acc"]:"rps"===l?[e,"Avg RPS"]:[e,"Avg MAE"]}),(0,r.jsxs)(P.y,{dataKey:l,radius:[4,4,0,0],maxBarSize:60,children:[c.map((e,t)=>(0,r.jsx)(H.f,{fill:e.color},t)),(0,r.jsx)(L.Z,{position:"top",fontSize:11,formatter:e=>"dirac"===l?"".concat(e,"%"):e})]})]})})}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-border text-muted-foreground",children:[(0,r.jsx)("th",{className:"text-left py-2 pr-4 font-medium",children:"Ablation"}),(0,r.jsx)("th",{className:"text-left py-2 pr-4 font-medium",children:"Removed Features"}),(0,r.jsx)("th",{className:"text-right py-2 pr-4 font-medium",children:"Dir Acc"}),(0,r.jsx)("th",{className:"text-right py-2 pr-4 font-medium",children:"Avg MAE"}),(0,r.jsx)("th",{className:"text-right py-2 pr-4 font-medium",children:"Avg RPS"}),(0,r.jsx)("th",{className:"text-right py-2 font-medium",children:"ΔRPS"})]})}),(0,r.jsx)("tbody",{children:m.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border last:border-0 hover:bg-secondary/30",children:[(0,r.jsx)("td",{className:"py-2 pr-4 font-medium whitespace-nowrap",children:e.label}),(0,r.jsx)("td",{className:"py-2 pr-4 text-muted-foreground max-w-[240px]",children:e.features_removed}),(0,r.jsxs)("td",{className:"py-2 pr-4 text-right",children:[e.dir_acc,"/3"]}),(0,r.jsx)("td",{className:"py-2 pr-4 text-right",children:e.avg_ordinal_mae.toFixed(3)}),(0,r.jsx)("td",{className:"py-2 pr-4 text-right",children:e.avg_rps.toFixed(3)}),(0,r.jsx)("td",{className:"py-2 text-right",children:(0,r.jsx)(T.E,{variant:"outline",style:{color:e.color,borderColor:e.color},className:"font-mono text-xs",children:0===e.delta_rps?"\xb10.000":e.delta_rps>0?"+".concat(e.delta_rps.toFixed(3)):e.delta_rps.toFixed(3)})})]},e.id))})]})})})]})}var Z=s(29602);let W=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,Z.cn)("w-full caption-bottom text-sm",s),...a})})});W.displayName="Table";let D=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,Z.cn)("[&_tr]:border-b",s),...a})});D.displayName="TableHeader";let V=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,Z.cn)("[&_tr:last-child]:border-0",s),...a})});V.displayName="TableBody",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,Z.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})}).displayName="TableFooter";let O=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,Z.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});O.displayName="TableRow";let q=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,Z.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})});q.displayName="TableHead";let I=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,Z.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})});I.displayName="TableCell",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,Z.cn)("mt-4 text-sm text-muted-foreground",s),...a})}).displayName="TableCaption";var K=s(14085),U=s(27629),J=s(40767);let Y=U.bL;U.l9;let $=U.ZL;U.bm;let Q=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(U.hJ,{ref:t,className:(0,Z.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});Q.displayName=U.hJ.displayName;let X=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)($,{children:[(0,r.jsx)(Q,{}),(0,r.jsxs)(U.UC,{ref:t,className:(0,Z.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[a,(0,r.jsxs)(U.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(J.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});X.displayName=U.UC.displayName;let ee=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,Z.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};ee.displayName="DialogHeader";let et=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(U.hE,{ref:t,className:(0,Z.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});et.displayName=U.hE.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(U.VY,{ref:t,className:(0,Z.cn)("text-sm text-muted-foreground",s),...a})}).displayName=U.VY.displayName;var es=s(92598);let er={"2025-08":"Aug 2025 (M8)","2025-09":"Sep 2025 (M9)","2025-10":"Oct 2025 (M10)"};function ea(e){var t;let{cat:s}=e,a=null!==(t=d.Gv[s])&&void 0!==t?t:"hsl(var(--muted-foreground))";return(0,r.jsx)(T.E,{variant:"outline",style:{color:a,borderColor:a},className:"font-semibold text-xs",children:s})}function el(e){let{value:t,color:s}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"flex-1 h-2 bg-secondary rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full rounded-full",style:{width:"".concat(100*t,"%"),backgroundColor:s}})}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[(100*t).toFixed(0),"%"]})]})}function en(e){var t,s;let{results:l,groundTruth:n}=e,[i,c]=(0,a.useState)(null),m=["2025-08","2025-09","2025-10"].map(e=>l.find(t=>t.month===e)).filter(Boolean),x=Object.fromEntries((null!==(t=null==n?void 0:n.months)&&void 0!==t?t:[]).map(e=>[e.month,e]));return(0,r.jsxs)("div",{children:[(0,r.jsxs)(o.Zp,{className:"border-border",children:[(0,r.jsx)(o.aR,{className:"pb-4",children:(0,r.jsx)(o.ZB,{className:"text-lg font-medium",children:"Monthly Prediction Results"})}),(0,r.jsx)(o.Wu,{children:(0,r.jsx)("div",{className:"rounded-md border border-border overflow-hidden",children:(0,r.jsxs)(W,{children:[(0,r.jsx)(D,{children:(0,r.jsxs)(O,{className:"bg-secondary/50",children:[(0,r.jsx)(q,{children:"Month"}),(0,r.jsx)(q,{children:"True Class"}),(0,r.jsx)(q,{children:"P(Low)"}),(0,r.jsx)(q,{children:"P(Mid)"}),(0,r.jsx)(q,{children:"P(High)"}),(0,r.jsx)(q,{children:"Predicted"}),(0,r.jsx)(q,{children:"Result"}),(0,r.jsx)(q,{children:"Ord MAE"}),(0,r.jsx)(q,{children:"RPS"}),(0,r.jsx)(q,{className:"w-[60px]",children:"Details"})]})}),(0,r.jsxs)(V,{children:[m.map(e=>{var t;return(0,r.jsxs)(O,{className:"hover:bg-secondary/30",children:[(0,r.jsx)(I,{className:"font-medium",children:null!==(t=er[e.month])&&void 0!==t?t:e.month}),(0,r.jsx)(I,{children:(0,r.jsx)(ea,{cat:e.true_class})}),(0,r.jsx)(I,{className:"min-w-[120px]",children:(0,r.jsx)(el,{value:e.prob_L,color:d.Gv.Low})}),(0,r.jsx)(I,{className:"min-w-[120px]",children:(0,r.jsx)(el,{value:e.prob_M,color:d.Gv.Mid})}),(0,r.jsx)(I,{className:"min-w-[120px]",children:(0,r.jsx)(el,{value:e.prob_H,color:d.Gv.High})}),(0,r.jsx)(I,{children:(0,r.jsx)(ea,{cat:e.pred_class})}),(0,r.jsx)(I,{children:(0,r.jsx)("span",{className:1===e.correct?"text-primary font-semibold":"text-destructive font-semibold",children:1===e.correct?"Correct":"Wrong"})}),(0,r.jsx)(I,{className:"font-mono text-sm",children:e.ordinal_mae}),(0,r.jsx)(I,{className:"font-mono text-sm",children:e.rps.toFixed(4)}),(0,r.jsx)(I,{children:(0,r.jsx)(K.$,{variant:"ghost",size:"icon",onClick:()=>c(e),children:(0,r.jsx)(es.A,{className:"h-4 w-4"})})})]},e.month)}),m.length>0&&(0,r.jsxs)(O,{className:"bg-secondary/30 font-semibold",children:[(0,r.jsx)(I,{children:"Average"}),(0,r.jsx)(I,{}),(0,r.jsx)(I,{}),(0,r.jsx)(I,{}),(0,r.jsx)(I,{}),(0,r.jsx)(I,{}),(0,r.jsxs)(I,{children:[m.filter(e=>1===e.correct).length,"/",m.length]}),(0,r.jsx)(I,{className:"font-mono",children:(m.reduce((e,t)=>e+t.ordinal_mae,0)/m.length).toFixed(3)}),(0,r.jsx)(I,{className:"font-mono",children:(m.reduce((e,t)=>e+t.rps,0)/m.length).toFixed(4)}),(0,r.jsx)(I,{})]})]})]})})})]}),(0,r.jsx)(Y,{open:!!i,onOpenChange:()=>c(null),children:(0,r.jsxs)(X,{className:"max-w-lg bg-card max-h-[80vh] overflow-y-auto",children:[(0,r.jsx)(ee,{children:(0,r.jsxs)(et,{children:[i?null!==(s=er[i.month])&&void 0!==s?s:i.month:""," Details"]})}),i&&(0,r.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"True Class"}),(0,r.jsx)(ea,{cat:i.true_class})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"Predicted"}),(0,r.jsx)(ea,{cat:i.pred_class})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"P(Low)"}),(0,r.jsxs)("span",{className:"font-mono",children:[(100*i.prob_L).toFixed(0),"%"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"P(Mid)"}),(0,r.jsxs)("span",{className:"font-mono",children:[(100*i.prob_M).toFixed(0),"%"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"P(High)"}),(0,r.jsxs)("span",{className:"font-mono",children:[(100*i.prob_H).toFixed(0),"%"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"RPS"}),(0,r.jsx)("span",{className:"font-mono",children:i.rps.toFixed(4)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"Ordinal MAE"}),(0,r.jsx)("span",{className:"font-mono",children:i.ordinal_mae})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"Log Score"}),(0,r.jsx)("span",{className:"font-mono",children:i.log_score.toFixed(4)})]})]}),i.step1_b&&(0,r.jsxs)("div",{className:"pt-3 border-t border-border",children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"Step 1 Active Drivers"}),(0,r.jsx)("p",{children:i.step1_b})]}),i.notes&&(0,r.jsxs)("div",{className:"pt-3 border-t border-border",children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"Notes"}),(0,r.jsx)("p",{children:i.notes})]}),x[i.month]&&(0,r.jsxs)("div",{className:"pt-3 border-t border-border",children:[(0,r.jsx)("p",{className:"text-muted-foreground text-xs mb-1",children:"Ground Truth Context"}),(0,r.jsx)("p",{children:x[i.month].description}),(0,r.jsxs)("p",{className:"text-muted-foreground text-xs mt-1",children:["Actual sales: ",x[i.month].true_sales_qty," bottles"]})]})]})]})})]})}function eo(){let[e,t]=(0,a.useState)("gpt-4o"),[s,n]=(0,a.useState)("vB"),[o,d]=(0,a.useState)([]),[i,c]=(0,a.useState)([]),[x,u]=(0,a.useState)(null),[h,f]=(0,a.useState)([]),[p,j]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async function(){j(!0);let[t,r,a,l]=await Promise.all([b(e,s),v(),N(),y()]);d(t),c(r),u(a),f(l),j(!1)})()},[e,s]),(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsxs)("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[(0,r.jsx)(m,{model:e,version:s,onModelChange:t,onVersionChange:n}),p&&(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,r.jsx)(l.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("span",{className:"ml-3 text-muted-foreground",children:"Loading results…"})]}),!p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{results:o}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(z,{results:o,groundTruth:x}),(0,r.jsx)(G,{allResults:i,ablation:h})]}),(0,r.jsx)(en,{results:o,groundTruth:x})]})]}),(0,r.jsx)("footer",{className:"border-t border-border mt-8",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"AI-Army EBI Framework \xb7 Health Food Sales Prediction \xb7 ACL Demo 2026"})})})]})}},39286:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var r=s(95155);s(12115);var a=s(31027),l=s(29602);let n=(0,a.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...a})}},14085:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var r=s(95155),a=s(12115),l=s(12317),n=s(31027),o=s(29602);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:i=!1,...c}=e,m=i?l.DX:"button";return(0,r.jsx)(m,{className:(0,o.cn)(d({variant:a,size:n,className:s})),ref:t,...c})});i.displayName="Button"},35007:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>i,ZB:()=>d,Zp:()=>n,aR:()=>o});var r=s(95155),a=s(12115),l=s(29602);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...a})});n.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});o.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});i.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},50745:(e,t,s)=>{"use strict";s.d(t,{bq:()=>x,eb:()=>p,gC:()=>f,l6:()=>c,yv:()=>m});var r=s(95155),a=s(12115),l=s(95204),n=s(51719),o=s(91902),d=s(98867),i=s(29602);let c=l.bL;l.YJ;let m=l.WT,x=a.forwardRef((e,t)=>{let{className:s,children:a,...o}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...o,children:[a,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})});u.displayName=l.PP.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let f=a.forwardRef((e,t)=>{let{className:s,children:a,position:n="popper",...o}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...o,children:[(0,r.jsx)(u,{}),(0,r.jsx)(l.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(h,{})]})})});f.displayName=l.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",s),...a})}).displayName=l.JU.displayName;let p=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:a})]})});p.displayName=l.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=l.wv.displayName},90051:(e,t,s)=>{"use strict";s.d(t,{Gv:()=>l,L6:()=>r,S8:()=>a});let r=[{value:"gpt-4o",label:"GPT-4o",fullName:"gpt-4o-2024-11-20",color:"oklch(0.55 0.2 270)"},{value:"haiku",label:"Claude Haiku",fullName:"claude-3-haiku-20240307",color:"oklch(0.6 0.18 50)"},{value:"mini",label:"GPT-4o-mini",fullName:"gpt-4o-mini-2024-07-18",color:"oklch(0.55 0.18 300)"}],a=[{value:"vA",label:"Version A",description:"Implicit direct prediction"},{value:"vB",label:"Version B",description:"CoT two-step reasoning"}],l={Low:"oklch(0.55 0.2 25)",Mid:"oklch(0.6 0.15 60)",High:"oklch(0.5 0.18 145)"}},29602:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(43463),a=s(69795);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[525,644,480,441,517,358],()=>t(63837)),_N_E=e.O()}]);